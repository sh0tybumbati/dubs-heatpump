# dubs-heatpump Development Notes

## Repository Information
- **Local Path**: `/home/ad/Project/dubs-heatpump`
- **GitHub**: https://github.com/sh0tybumbati/dubs-heatpump
- **Branch**: main

## Build Process
**IMPORTANT**: This project uses GitHub Actions for compilation.

### Workflow:
1. Make code changes locally in `/Source/DubsHeatPumps/`
2. Commit and push changes to GitHub
3. GitHub Actions automatically compiles the C# code
4. CI commits the compiled DLL back to `/Assemblies/DubsHeatPumps.dll`
5. **Must pull after pushing** to get the compiled DLL locally

### Build Commands:
```bash
# After making code changes:
git add -A
git commit -m "description"
git push

# Wait for CI to complete (check with: gh run list --limit 1)
# Then pull the compiled DLL:
git pull
```

**DO NOT** attempt to compile locally with msbuild/dotnet - the build happens on GitHub.

## Project Structure
- `/Defs/` - XML definitions (ThingDefs, ResearchDefs, etc.)
- `/Source/DubsHeatPumps/` - C# source code
- `/Assemblies/` - Compiled DLLs (updated by CI)
- `/Textures/` - Graphics assets

## Current Features
- Heat pump outdoor units (uses DBH's CompAirconBaseUnit)
- Heat pump indoor units (CompHeatPumpIndoor for mode switching)
- MapComponent_HeatPumpOverlay for capacity bar rendering
- Integration with Dub's Bad Hygiene mod via reflection

## Dependencies
- RimWorld core (`Assembly-CSharp.dll`)
- Unity Engine (`UnityEngine.CoreModule.dll`)
- Dub's Bad Hygiene (`DubsBadHygiene.dll`)
- Harmony (`0Harmony.dll`)
